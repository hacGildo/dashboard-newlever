<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Financeiro - New Lever</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7f9;
            color: #333;
            padding: 20px;
        }
        
        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 30px;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .periodo {
            color: #7f8c8d;
            font-size: 16px;
        }
        
        .kpi-cards {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .kpi-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .kpi-title {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 10px;
        }
        
        .kpi-value {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .kpi-growth {
            font-size: 14px;
            margin-top: 5px;
        }
        
        .positive {
            color: #27ae60;
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .chart-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .chart-container {
            position: relative;
            height: 300px;
        }
        
        .full-width {
            grid-column: 1 / -1;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        tr:hover {
            background-color: #f5f5f5;
        }
        
        .insights {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .insight-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .insight-list {
            list-style-type: none;
        }
        
        .insight-list li {
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .insight-list li:last-child {
            border-bottom: none;
        }
        
        @media (max-width: 1200px) {
            .kpi-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .kpi-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <header>
            <div class="logo">Dashboard Financeiro - New Lever</div>
            <div class="periodo">Jul/2024 a Ago/2025</div>
        </header>
        
        <div class="kpi-cards">
            <div class="kpi-card">
                <div class="kpi-title">Receita Total</div>
                <div class="kpi-value">R$ 479.597</div>
                <div class="kpi-growth positive">+223% CAGR</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-title">Ticket Médio</div>
                <div class="kpi-value">R$ 7.586</div>
                <div class="kpi-growth positive">+8,4% vs início</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-title">Retenção de Clientes</div>
                <div class="kpi-value">100%</div>
                <div class="kpi-growth positive">Todos clientes recorrentes</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-title">Principal Cliente</div>
                <div class="kpi-value">LEAP EDU</div>
                <div class="kpi-growth">R$ 93.850</div>
            </div>
        </div>
        
        <div class="charts-container">
            <div class="chart-card">
                <div class="chart-title">Evolução das Receitas Mensais</div>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-title">Composição das Receitas</div>
                <div class="chart-container">
                    <canvas id="compositionChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-title">Top 7 Clientes por Faturamento</div>
                <div class="chart-container">
                    <canvas id="clientsChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <div class="chart-title">Evolução do Ticket Médio</div>
                <div class="chart-container">
                    <canvas id="ticketChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="insights">
            <div class="insight-title">Principais Insights</div>
            <ul class="insight-list">
                <li><strong>Crescimento Sólido:</strong> CAGR de 223,45% ao ano (crescimento exponencial)</li>
                <li><strong>Diversificação:</strong> Transição de dependência de aportes para receitas operacionais</li>
                <li><strong>Clientes Fiéis:</strong> ARAUZ & ADVOGADOS mostra fidelidade com 9 meses consecutivos</li>
                <li><strong>Ticket Médio Crescente:</strong> De R$ 7.000 para R$ 7.586,33 (aumento de 8,4%)</li>
                <li><strong>Alta Retenção:</strong> 100% dos clientes ativos são recorrentes</li>
            </ul>
        </div>
        
        <div class="chart-card full-width">
            <div class="chart-title">Detalhamento de Receitas por Mês</div>
            <div class="chart-container">
                <canvas id="monthlyDetailChart"></canvas>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Dados para os gráficos
            const meses = ['Jul/24', 'Ago/24', 'Set/24', 'Out/24', 'Nov/24', 'Dez/24', 
                          'Jan/25', 'Fev/25', 'Mar/25', 'Abr/25', 'Mai/25', 'Jun/25', 'Jul/25', 'Ago/25'];
            
            const receitasMensais = [8348, 47000, 40000, 46569.5, 46569.5, 
                                    20365.45, 30032, 30032, 37070.25, 39417, 
                                    30870.5, 40317, 41170.78, 22758.63];
            
            const ticketsMedios = [0, 7000, 6569.5, 6569.5, 10182.73, 
                                  15016, 13116, 13116, 9267.56, 13139, 
                                  7717.63, 10079.25, 8234.16, 7586.21];
            
            // Gráfico de Evolução de Receitas
            const revenueCtx = document.getElementById('revenueChart').getContext('2d');
            new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: meses,
                    datasets: [{
                        label: 'Receita Mensal (R$)',
                        data: receitasMensais,
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Valor (R$)'
                            }
                        }
                    }
                }
            });
            
            // Gráfico de Composição de Receitas
            const compositionCtx = document.getElementById('compositionChart').getContext('2d');
            new Chart(compositionCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Aportes', 'Vendas', 'Serviços'],
                    datasets: [{
                        data: [200054, 272543.36, 7000],
                        backgroundColor: ['#FF6B6B', '#4ECDC4', '#45B7D1']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // Gráfico de Top Clientes
            const clientsCtx = document.getElementById('clientsChart').getContext('2d');
            new Chart(clientsCtx, {
                type: 'bar',
                data: {
                    labels: ['LEAP EDU', 'ARAUZ & ADVOGADOS', 'R. AMARAL', 'Andre Menescal', 'Chenut', 'MARTORELLI', 'GM Advogados'],
                    datasets: [{
                        label: 'Faturamento (R$)',
                        data: [93850, 59125.5, 52086.75, 39887.5, 13795.95, 11731.25, 2027.16],
                        backgroundColor: '#9b59b6'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Valor (R$)'
                            }
                        }
                    }
                }
            });
            
            // Gráfico de Evolução do Ticket Médio
            const ticketCtx = document.getElementById('ticketChart').getContext('2d');
            new Chart(ticketCtx, {
                type: 'line',
                data: {
                    labels: meses.slice(1), // Remove jul/24 que não tinha ticket
                    datasets: [{
                        label: 'Ticket Médio (R$)',
                        data: ticketsMedios,
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        fill: true,
                        tension: 0.2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Valor (R$)'
                            }
                        }
                    }
                }
            });
            
            // Gráfico de Detalhamento Mensal (stacked)
            const monthlyDetailCtx = document.getElementById('monthlyDetailChart').getContext('2d');
            new Chart(monthlyDetailCtx, {
                type: 'bar',
                data: {
                    labels: meses,
                    datasets: [
                        {
                            label: 'Aportes',
                            data: [8348, 40000, 40000, 40000, 40000, 0, 0, 0, 0, 0, 33000, 30000, 30000, 45000],
                            backgroundColor: '#FF6B6B'
                        },
                        {
                            label: 'Vendas',
                            data: [0, 7000, 6569.5, 6569.5, 6569.5, 20365.45, 30032, 30032, 37070.25, 39417, 0, 10317, 11170.78, 0],
                            backgroundColor: '#4ECDC4'
                        },
                        {
                            label: 'Serviços',
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                            backgroundColor: '#45B7D1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            stacked: true
                        },
                        y: {
                            stacked: true,
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Valor (R$)'
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
